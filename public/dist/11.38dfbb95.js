(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{HQw4:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"contact-index-page"},[i("div",{staticClass:"sec"},[i("div",{staticClass:"sec-header"},[i("div",{staticClass:"sec-header_hd"},[s._v("\n                联系人("+s._s(s.list.length)+")\n            ")]),i("div",{staticClass:"sec-header_ft"},[i("x-btn",{attrs:{icon:"&#xe601;",height:"36px",type:"primary",width:"90px"},on:{click:function(t){s.addVisible=!0}}},[s._v("添加")])],1)])]),s.list.length>0?i("div",{staticClass:"contact-list"},s._l(s.list,function(t){return i("router-link",{key:t.master_address,staticClass:"contact-item",attrs:{to:{name:"contactDetail",params:{id:t.master_address}}}},[i("div",{staticClass:"item-hd"},[i("div",{staticClass:"item-hd_name"},[i("b",[s._v(s._s(t.username?t.username:"-"))])]),i("div",{staticClass:"item-hd_desc"},[s._v(s._s(t.master_address))])]),i("div",{staticClass:"item-ft",on:{click:function(e){e.preventDefault(),s.send(t.master_address)}}},[i("i",{staticClass:"iconfont"},[s._v("")]),i("span",[s._v("发送")])])])})):i("div",{staticClass:"empty-sec"},[i("img",{staticClass:"empty-sec_img",attrs:{src:e("jYWn")}}),i("div",{staticClass:"empty-sec_hint"},[s._v("您还没有联系人")])]),s.sendVisible?i("send",{attrs:{visible:s.sendVisible,recipient:s.sendAddress},on:{"update:visible":function(t){s.sendVisible=t}}}):s._e(),s.addVisible?i("add-contact",{attrs:{visible:s.addVisible},on:{"update:visible":function(t){s.addVisible=t},success:s.addHandle}}):s._e()],1)},n=[],a=e("yT7P"),c=e("X02F"),d=e("QrrX"),o=e("vljD"),r=e("j9DU"),l=e("L2JU"),u={data:function(){return{list:[],sendVisible:!1,sendAddress:"",addVisible:!1}},computed:Object(a["a"])({},Object(l["b"])({account:function(s){return s.account},key:function(s){return s.key}})),created:function(){var s=this;c["a"].contacts.getList([this.account.publicKey]).then(function(t){null!==t&&(s.list=t)})},components:{Send:d["a"],XBtn:o["a"],AddContact:r["a"]},methods:{send:function(s){this.sendAddress=s,this.sendVisible=!0},addHandle:function(s){this.list.push(s)}}},p=u,m=(e("P+rK"),e("KHd+")),f=Object(m["a"])(p,i,n,!1,null,null,null);t["default"]=f.exports},"P+rK":function(s,t,e){"use strict";var i=e("yYVq"),n=e.n(i);n.a},PzjR:function(s,t,e){"use strict";var i=e("kMG8"),n=e.n(i);n.a},j9DU:function(s,t,e){"use strict";var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"add-contact-comp"},[s.compVisible?e("modal",{attrs:{visible:s.compVisible,okLoading:s.okLoading,title:"添加联系人",hint:"添加联系人需要手续费"},on:{"update:visible":function(t){s.compVisible=t},ok:s.submit}},[e("div",{staticClass:"add-title"},[s._v("联系人")]),e("x-input",{attrs:{status:s.addressStatus,errorMsg:s.addressError,placeholder:"请输入别名或者地址"},model:{value:s.compAddress,callback:function(t){s.compAddress="string"===typeof t?t.trim():t},expression:"compAddress"}}),1==s.account.secondsign||1==s.account.secondsign_unconfirmed?e("div",{staticClass:"add-title"},[s._v("支付密码")]):s._e(),1==s.account.secondsign||1==s.account.secondsign_unconfirmed?e("x-input",{attrs:{type:"password",status:s.passwordStatus,errorMsg:s.passwordError,placeholder:"请输入支付密码"},model:{value:s.password,callback:function(t){s.password="string"===typeof t?t.trim():t},expression:"password"}}):s._e(),e("div",{staticClass:"add-fee"},[s._v("费用： "+s._s(s._f("bac")(s.fee))+" BAC")])],1):s._e()],1)},n=[],a=(e("a1Th"),e("yT7P")),c=e("cF9j"),d=e("Qthk"),o=e("X02F"),r=e("L2JU"),l=e("lPiR"),u=e.n(l),p={data:function(){return{fee:"",okLoading:!1,compVisible:!1,compAddress:"",addressStatus:"",addressError:"",password:"",passwordStatus:"",passwordError:""}},props:{visible:{default:"false"},address:{default:""}},computed:Object(a["a"])({},Object(r["b"])({account:function(s){return s.account},key:function(s){return s.key}})),watch:{compVisible:function(s){s||this.$emit("update:visible",!1)},compAddress:function(){this.addressStatus=""},password:function(){this.passwordStatus=""}},created:function(){var s=this;this.compVisible=this.visible,this.compAddress=this.address,o["a"].contacts.getFee().then(function(t){null!==t&&(s.fee=t.fee)})},components:{Modal:c["a"],XInput:d["a"]},methods:{submit:function(){var s=this;return""==this.compAddress?(this.addressStatus="error",void(this.addressError="请输入别名或者地址")):1!=this.account.secondsign&&1!=this.account.secondsign_unconfirmed||""!=this.password?(this.okLoading=!0,void o["a"].contacts.add([this.key.mnemonic,this.account.publicKey,this.compAddress,u()(this.password).toString()]).then(function(t){s.okLoading=!1,null!==t&&(s.compVisible=!1,s.$emit("success",t))})):(this.passwordStatus="error",void(this.passwordError="请输入支付密码"))}}},m=p,f=(e("PzjR"),e("KHd+")),h=Object(f["a"])(m,i,n,!1,null,"1d9f3a95",null);t["a"]=h.exports},jYWn:function(s,t,e){s.exports=e.p+"img/none_contact.09923c3e.png"},kMG8:function(s,t,e){},yYVq:function(s,t,e){}}]);
//# sourceMappingURL=11.38dfbb95.js.map