{"version":3,"sources":["webpack:///./src/views/contact/Index.vue?6f4c","webpack:///src/views/contact/Index.vue","webpack:///./src/views/contact/Index.vue?7e59","webpack:///./src/views/contact/Index.vue","webpack:///./src/views/contact/Index.vue?d5d3","webpack:///./src/components/AddContact.vue?85b8","webpack:///./src/components/AddContact.vue?04b3","webpack:///src/components/AddContact.vue","webpack:///./src/components/AddContact.vue?498f","webpack:///./src/components/AddContact.vue","webpack:///./src/assets/images/none_contact.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","list","length","attrs","icon","height","type","width","on","click","$event","addVisible","_l","item","key","master_address","to","name","params","id","username","preventDefault","send","src","__webpack_require__","visible","sendVisible","recipient","sendAddress","update:visible","_e","success","addHandle","staticRenderFns","Indexvue_type_script_lang_js","data","computed","Object","objectSpread","vuex_esm","account","state","created","_this","api","contacts","getList","publicKey","then","res","components","Send","XBtn","AddContact","methods","address","push","contact_Indexvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AddContact_vue_vue_type_style_index_0_id_1d9f3a95_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","compVisible","okLoading","title","hint","ok","submit","status","addressStatus","errorMsg","addressError","placeholder","model","value","callback","$$v","compAddress","trim","expression","secondsign","secondsign_unconfirmed","passwordStatus","passwordError","password","_f","fee","AddContactvue_type_script_lang_js","props","default","watch","newVal","$emit","getFee","Modal","XInput","_this2","add","mnemonic","sha256_default","toString","components_AddContactvue_type_script_lang_js","module","exports","p"],"mappings":"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","file":"11.38dfbb95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contact-index-page\"},[_c('div',{staticClass:\"sec\"},[_c('div',{staticClass:\"sec-header\"},[_c('div',{staticClass:\"sec-header_hd\"},[_vm._v(\"\\n                联系人(\"+_vm._s(_vm.list.length)+\")\\n            \")]),_c('div',{staticClass:\"sec-header_ft\"},[_c('x-btn',{attrs:{\"icon\":\"&#xe601;\",\"height\":\"36px\",\"type\":\"primary\",\"width\":\"90px\"},on:{\"click\":function($event){_vm.addVisible = true}}},[_vm._v(\"添加\")])],1)])]),(_vm.list.length > 0)?_c('div',{staticClass:\"contact-list\"},_vm._l((_vm.list),function(item){return _c('router-link',{key:item.master_address,staticClass:\"contact-item\",attrs:{\"to\":{name: 'contactDetail', params:{id: item.master_address} }}},[_c('div',{staticClass:\"item-hd\"},[_c('div',{staticClass:\"item-hd_name\"},[_c('b',[_vm._v(_vm._s(item.username ? item.username : '-'))])]),_c('div',{staticClass:\"item-hd_desc\"},[_vm._v(_vm._s(item.master_address))])]),_c('div',{staticClass:\"item-ft\",on:{\"click\":function($event){$event.preventDefault();_vm.send(item.master_address)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('span',[_vm._v(\"发送\")])])])})):_c('div',{staticClass:\"empty-sec\"},[_c('img',{staticClass:\"empty-sec_img\",attrs:{\"src\":require(\"../../assets/images/none_contact.png\")}}),_c('div',{staticClass:\"empty-sec_hint\"},[_vm._v(\"您还没有联系人\")])]),(_vm.sendVisible)?_c('send',{attrs:{\"visible\":_vm.sendVisible,\"recipient\":_vm.sendAddress},on:{\"update:visible\":function($event){_vm.sendVisible=$event}}}):_vm._e(),(_vm.addVisible)?_c('add-contact',{attrs:{\"visible\":_vm.addVisible},on:{\"update:visible\":function($event){_vm.addVisible=$event},\"success\":_vm.addHandle}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"contact-index-page\">\n        <div class=\"sec\">\n            <div class=\"sec-header\">\n                <div class=\"sec-header_hd\">\n                    联系人({{list.length}})\n                </div>\n                <div class=\"sec-header_ft\">\n                    <x-btn @click=\"addVisible = true\" icon=\"&#xe601;\" height=\"36px\" type=\"primary\" width=\"90px\">添加</x-btn>\n                </div>\n            </div>\n            \n        </div>\n\n        <div v-if=\"list.length > 0\" class=\"contact-list\">\n            <router-link  v-for=\"item in list\" :to=\"{name: 'contactDetail', params:{id: item.master_address} }\" :key=\"item.master_address\" class=\"contact-item\">\n                <div class=\"item-hd\">\n                    <div class=\"item-hd_name\"><b>{{item.username ? item.username : '-'}}</b></div>\n                    <div class=\"item-hd_desc\">{{item.master_address}}</div>\n                </div>\n                <div @click.prevent=\"send(item.master_address)\" class=\"item-ft\">\n                    <i class=\"iconfont\">&#xe60b;</i>\n                    <span>发送</span>\n                </div>\n            </router-link>\n        </div>\n\n        <div v-else class=\"empty-sec\">\n            <img class=\"empty-sec_img\" src=\"../../assets/images/none_contact.png\" />\n            <div class=\"empty-sec_hint\">您还没有联系人</div>\n        </div>\n\n        <send v-if=\"sendVisible\" :visible.sync=\"sendVisible\" :recipient=\"sendAddress\"></send>\n        <add-contact v-if=\"addVisible\" :visible.sync=\"addVisible\" @success=\"addHandle\"></add-contact>\n    </div>\n</template>\n\n<script>\n    import api from '~/js/api/index'\n    import Send from '~/components/Send.vue'\n    import XBtn from '~/components/ui/XBtn.vue'\n    import AddContact from '~/components/AddContact.vue'\n    import {mapState} from 'vuex'\n    \n\n    export default {\n        data () {\n            return {\n                list: [],\n                sendVisible: false,\n                sendAddress: '',\n                addVisible: false,\n            }\n        },\n        \n        computed :{\n            ...mapState({\n                account: state => state.account,\n                key: state => state.key\n            })\n        },\n\n        created () {\n            api.contacts.getList([this.account.publicKey]).then(res => {\n                if (res === null) return;\n                this.list = res\n            })\n        },\n\n        components: {\n            Send,\n            XBtn,\n            AddContact\n        },\n\n        methods: {\n            send (address) {\n                this.sendAddress = address\n                this.sendVisible = true\n            },\n            addHandle (res) {\n                this.list.push(res)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .contact-index-page{\n        background: #fff;\n        border-radius: 4px;\n\n        min-height: 450px;\n\n\n        .page-header{\n            height: 50px;\n            line-height: 50px;\n            font-size: 16px;\n            color: #4A4A4A;\n            padding: 0 30px;\n            border: 1px solid #F2F2F2;\n            display: flex;\n            align-items: center;\n        }\n\n        .header-hd{\n            flex: 1\n        }\n\n        \n        .contact-list{\n            display: flex;\n            flex-wrap: wrap;\n            padding: 0 30px;\n            margin-top: 30px;\n        }\n        \n\n       \n\n        .contact-item{\n            display: flex;\n            align-items: center;\n            background: #F5F7FC;\n            border-radius: 1px;\n            height: 74px;\n            width: 100%;\n            margin-bottom: 20px;\n            \n            \n            .item-hd{\n                flex: 1;\n                margin-left: 10px;\n            }\n\n            .item-hd_name{\n                font-size: 16px;\n                color: #55A8FD;\n            }\n\n            .item-hd_desc{\n                font-size: 14px;\n                color: #9B9B9B;\n                margin-top: 4px;\n            }\n\n            .item-ft{\n                width: 76px;\n                height: 32px;\n                line-height: 32px;\n                font-size: 14px;\n                color: #3F80FA;\n                background: #E2ECFF;\n                border-radius: 2px;\n                text-align: center;\n                margin-right: 10px;\n                cursor: pointer;\n            }\n\n            .iconfont{\n                font-size: 20px;\n                margin-right: 4px;\n                vertical-align: middle;\n            }\n        }\n\n        @media (min-width: 1400px) {\n            .contact-list{\n                margin-left: -2%\n            }\n            .contact-item{\n                width: 48%;\n                margin-left: 2%;\n            }\n        }\n\n        @media (min-width: 1800px) {\n            .contact-list{\n                margin-left: -2%\n            }\n            .contact-item{\n                width: 31.33333%;\n                margin-left: 2%;\n            }\n        }\n\n        .empty-sec{\n            text-align: center;\n            margin-top: 140px;\n        }\n\n        .empty-sec_img{\n            width: 100px;\n            height: 82px;\n        }\n\n        .empty-sec_hint{\n            font-size: 16px;\n            color: #4A4A4A;\n            margin-top: 18px;\n            \n        }\n        \n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=e60abfb8\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=scss\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=scss\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContact.vue?vue&type=style&index=0&id=1d9f3a95&lang=scss&scoped=true\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContact.vue?vue&type=style&index=0&id=1d9f3a95&lang=scss&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-contact-comp\"},[(_vm.compVisible)?_c('modal',{attrs:{\"visible\":_vm.compVisible,\"okLoading\":_vm.okLoading,\"title\":\"添加联系人\",\"hint\":\"添加联系人需要手续费\"},on:{\"update:visible\":function($event){_vm.compVisible=$event},\"ok\":_vm.submit}},[_c('div',{staticClass:\"add-title\"},[_vm._v(\"联系人\")]),_c('x-input',{attrs:{\"status\":_vm.addressStatus,\"errorMsg\":_vm.addressError,\"placeholder\":\"请输入别名或者地址\"},model:{value:(_vm.compAddress),callback:function ($$v) {_vm.compAddress=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"compAddress\"}}),(_vm.account.secondsign == 1 || _vm.account.secondsign_unconfirmed == 1)?_c('div',{staticClass:\"add-title\"},[_vm._v(\"支付密码\")]):_vm._e(),(_vm.account.secondsign == 1 || _vm.account.secondsign_unconfirmed == 1)?_c('x-input',{attrs:{\"type\":\"password\",\"status\":_vm.passwordStatus,\"errorMsg\":_vm.passwordError,\"placeholder\":\"请输入支付密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"password\"}}):_vm._e(),_c('div',{staticClass:\"add-fee\"},[_vm._v(\"费用： \"+_vm._s(_vm._f(\"bac\")(_vm.fee))+\" BAC\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"add-contact-comp\">\n        <modal \n            v-if=\"compVisible\" \n            :visible.sync=\"compVisible\"\n            @ok=\"submit\"\n            :okLoading=\"okLoading\"\n            title=\"添加联系人\" \n            hint=\"添加联系人需要手续费\">\n            <div class=\"add-title\">联系人</div>    \n            <x-input \n                v-model.trim=\"compAddress\"\n                :status=\"addressStatus\"\n                :errorMsg=\"addressError\"\n                placeholder=\"请输入别名或者地址\">\n            </x-input>\n            <div v-if=\"account.secondsign == 1 || account.secondsign_unconfirmed == 1\" class=\"add-title\">支付密码</div> \n            <x-input \n                v-if=\"account.secondsign == 1 || account.secondsign_unconfirmed == 1\" \n                v-model.trim=\"password\" \n                type=\"password\"\n                :status=\"passwordStatus\"\n                :errorMsg=\"passwordError\"\n                placeholder=\"请输入支付密码\">\n            </x-input>\n            <div class=\"add-fee\">费用： {{fee | bac}} BAC</div>\n        </modal>\n    </div>\n    \n</template>\n\n<script>\n    import Modal from '~/components/ui/Modal.vue'\n    import XInput from '~/components/ui/XInput.vue'\n    import api from '~/js/api/index'\n    import {mapState} from 'vuex'\n    import sha256 from 'crypto-js/sha256'\n\n    export default {\n        data () {\n            return {\n                fee: '',\n                okLoading: false,\n                compVisible: false,\n                compAddress: '',\n                addressStatus: '',\n                addressError: '',\n                password: '',\n                passwordStatus: '',\n                passwordError: '',\n            }\n        },\n        props: {\n            visible: {\n                default: 'false'\n            },\n            address: {\n                default: ''\n            }\n        },\n        computed: {\n             ...mapState({\n                account: state => state.account,\n                key: state => state.key\n            })\n        },\n        watch: {\n            compVisible (newVal) {\n                if (!newVal) {\n                    this.$emit('update:visible', false)\n                }\n            },\n            compAddress () {\n                this.addressStatus = ''\n            },\n            password () {\n                this.passwordStatus = ''\n            }\n        },\n        created () {\n            this.compVisible = this.visible\n            this.compAddress = this.address\n\n            api.contacts.getFee().then(res => {\n                if (res === null) return;\n                this.fee = res.fee\n            })\n        },\n        components: {\n            Modal,\n            XInput\n        },\n        methods:{\n            submit () {\n                if (this.compAddress == '') {\n                    this.addressStatus = 'error'\n                    this.addressError = '请输入别名或者地址'\n                    return\n                }\n\n                if ( (this.account.secondsign == 1 || this.account.secondsign_unconfirmed == 1) &&  this.password == '') {\n                    this.passwordStatus = 'error'\n                    this.passwordError = '请输入支付密码'\n                    return\n                }\n\n                this.okLoading = true\n                api.contacts.add([this.key.mnemonic, this.account.publicKey, this.compAddress, sha256(this.password).toString()]).then(res => {\n                    this.okLoading = false\n                    if (res === null) return;\n                    this.compVisible = false\n                    this.$emit('success', res)\n                })\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .add-contact-comp{\n         .add-fee{\n            color: #FF7E7E;\n            font-size: 14px;\n        }\n\n        .add-title{\n            font-size: 16px;\n            color: #9B9B9B;\n            margin-bottom: 15px;\n        }\n    }\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContact.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContact.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddContact.vue?vue&type=template&id=1d9f3a95&scoped=true\"\nimport script from \"./AddContact.vue?vue&type=script&lang=js\"\nexport * from \"./AddContact.vue?vue&type=script&lang=js\"\nimport style0 from \"./AddContact.vue?vue&type=style&index=0&id=1d9f3a95&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d9f3a95\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/none_contact.09923c3e.png\";"],"sourceRoot":""}